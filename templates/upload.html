{% extends "base.html"%}
{% block content %}
	<style>
		.uploadcontainer {
			width: 600px;
			height: 300px;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			background-color: #f2f2f2;
			border-radius: 10px;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
			margin: 200px auto; /* Center the container horizontally */
			padding: 30px; /* Add padding inside the container */
		}

		input[type="file"] {
			padding: 10px;
			margin: 10px;
			border-radius: 10px;
			border: none;
			width: 105%;
			background-color: #f2f2f2;
			box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
		}

		div#loading {
		  position: fixed;
		  top: 50%;
		  left: 50%;
		  transform: translate(-50%, -50%);
		  width: 700px;
		  height: 700px;
		  display: none;
		  background: url("static/hammering.gif");
		  background-size: cover;
		  cursor: wait;
		}

	</style>

<div class="uploadcontainer">
		<h1 class="text-center py-3" style="color: black; font-size: 2rem; " >Upload Inspection Report</h1>
		<form method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; align-items: center;">
			<input type="file" name="file">
			  <button type="submit" class="btn btn-primary btn-lg"  style="margin-top: 10px" onclick="loading()" >Analyze Report</button>
		</form>
</div>

<div id="loading">
	<h2 class="text-center py-3" style="color: white; font-size: 2rem; " >Analyzing Report ...</h2>
</div>

<script type="text/javascript">
        function loading() {
            $("#loading").show();
        }

        // Check if the custom header exists to trigger the page reload
        if (document.head.querySelector('[name="Refresh-Page"][content="true"]')) {
            location.reload();
        }
    </script>

{% endblock %}